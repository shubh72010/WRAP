<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pro Image Editor</title>
  <style>
    body { margin: 0; font-family: sans-serif; background: #111; color: #eee; display: flex; flex-direction: column; align-items: center; }
    #editor { display: flex; flex-direction: column; gap: 10px; max-width: 100%; padding: 10px; }
    canvas { border: 1px solid #333; max-width: 100%; height: auto; }
    .controls { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
    .controls input[type=range] { width: 150px; }
    .toolbar { display: flex; flex-wrap: wrap; gap: 5px; justify-content: center; }
    button, input[type=color], input[type=range] { padding: 5px; background: #222; color: #eee; border: none; border-radius: 4px; }
    input[type=file] { background: transparent; color: #eee; }
  </style>
</head>
<body>
  <h1>Advanced Image Editor</h1>
  <div id="editor">
    <input type="file" id="upload" accept="image/*">
    <canvas id="canvas"></canvas>
    <div class="controls">
      <label>Brightness <input type="range" id="brightness" min="-100" max="100" value="0"></label>
      <label>Contrast <input type="range" id="contrast" min="-100" max="100" value="0"></label>
      <label>Saturation <input type="range" id="saturation" min="0" max="300" value="100"></label>
      <label>Blur <input type="range" id="blur" min="0" max="10" value="0"></label>
    </div>
    <div class="toolbar">
      <button onclick="applyFilters()">Apply</button>
      <button onclick="resetImage()">Reset</button>
      <button onclick="downloadImage()">Download</button>
      <input type="color" id="textColor">
      <button onclick="addText()">Add Text</button>
      <button onclick="flipHorizontal()">Flip H</button>
      <button onclick="flipVertical()">Flip V</button>
      <button onclick="rotate(90)">Rotate 90Â°</button>
    </div>
  </div>
  <script>
    let canvas = document.getElementById('canvas');
    let ctx = canvas.getContext('2d');
    let originalImage = null;document.getElementById('upload').addEventListener('change', function(e) {
  let reader = new FileReader();
  reader.onload = function(event) {
    let img = new Image();
    img.onload = function() {
      canvas.width = img.width;
      canvas.height = img.height;
      ctx.drawImage(img, 0, 0);
      originalImage = img;
    }
    img.src = event.target.result;
  }
  reader.readAsDataURL(e.target.files[0]);
});

function applyFilters() {
  if (!originalImage) return;
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.filter = `
    brightness(${100 + parseInt(document.getElementById('brightness').value)}%)
    contrast(${100 + parseInt(document.getElementById('contrast').value)}%)
    saturate(${document.getElementById('saturation').value}%)
    blur(${document.getElementById('blur').value}px)
  `;
  ctx.drawImage(originalImage, 0, 0);
}

function resetImage() {
  if (originalImage) {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.filter = 'none';
    ctx.drawImage(originalImage, 0, 0);
    document.getElementById('brightness').value = 0;
    document.getElementById('contrast').value = 0;
    document.getElementById('saturation').value = 100;
    document.getElementById('blur').value = 0;
  }
}

function downloadImage() {
  const link = document.createElement('a');
  link.download = 'edited-image.png';
  link.href = canvas.toDataURL();
  link.click();
}

function addText() {
  const text = prompt('Enter text:');
  if (text) {
    ctx.fillStyle = document.getElementById('textColor').value;
    ctx.font = '40px sans-serif';
    ctx.fillText(text, 50, 50);
  }
}

function flipHorizontal() {
  let imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
  ctx.save();
  ctx.scale(-1, 1);
  ctx.drawImage(canvas, -canvas.width, 0);
  ctx.restore();
}

function flipVertical() {
  ctx.save();
  ctx.scale(1, -1);
  ctx.drawImage(canvas, 0, -canvas.height);
  ctx.restore();
}

function rotate(deg) {
  const offscreen = document.createElement('canvas');
  const offCtx = offscreen.getContext('2d');
  offscreen.width = canvas.width;
  offscreen.height = canvas.height;
  offCtx.drawImage(canvas, 0, 0);
  const radians = deg * Math.PI / 180;

  canvas.width = offscreen.height;
  canvas.height = offscreen.width;
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.save();
  ctx.translate(canvas.width / 2, canvas.height / 2);
  ctx.rotate(radians);
  ctx.drawImage(offscreen, -offscreen.width / 2, -offscreen.height / 2);
  ctx.restore();
}

  </script>
</body>
</html>